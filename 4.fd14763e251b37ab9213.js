(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{RqHm:function(t,e,s){"use strict";s.r(e),s.d(e,"UserportalModule",function(){return N});var n=s("ofXK"),i=s("tyNb"),o=s("XNiG"),r=s("3E0/"),c=s("1G5W"),a=s("fXoL"),b=s("z6cu"),d=s("JIr8");const l="https://jsonplaceholder.typicode.com/";var p=s("tk/3");let g=(()=>{class t{constructor(t){this.http=t}getAllUsersService(){return this.http.get(`${l}users`).pipe(Object(d.a)(this.errorHandler))}getUserPostService(t){return this.http.get(`${l}posts?userId=${t}`).pipe(Object(d.a)(this.errorHandler))}getCommentService(t){return this.http.get(`${l}comments?postId=${t}`).pipe(Object(d.a)(this.errorHandler))}errorHandler(t){return t.error instanceof ErrorEvent?console.error("Client Side Error: ",t.error.message):console.log("Server Side Error: ",t),Object(b.a)("There was a problem with the service. we are notified and working on it")}}return t.\u0275fac=function(e){return new(e||t)(a.ac(p.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=s("Xa2L"),u=s("f0Cb"),h=s("bTqV"),f=s("Wp6s");function I(t,e){1&t&&(a.Rb(0),a.Tb(1,"p",2),a.zc(2,"Sorry, the service is not available right now"),a.Sb(),a.Qb())}function v(t,e){1&t&&(a.Rb(0),a.Pb(1,"mat-spinner"),a.Qb())}function C(t,e){if(1&t&&(a.Rb(0),a.Tb(1,"p",5),a.Tb(2,"b"),a.zc(3),a.Sb(),a.zc(4),a.Sb(),a.Tb(5,"p",6),a.zc(6),a.Sb(),a.Pb(7,"mat-divider"),a.Qb()),2&t){const t=e.$implicit;a.Cb(3),a.Ac(t.name),a.Cb(1),a.Bc(" | Email: ",t.email,""),a.Cb(2),a.Ac(t.body)}}function S(t,e){if(1&t&&(a.Tb(0,"mat-card",3),a.xc(1,C,8,3,"ng-container",4),a.Sb()),2&t){const t=a.gc();a.Cb(1),a.lc("ngForOf",t.allComments)}}let P=(()=>{class t{constructor(t){this.httpService=t,this.ngUnsubscribe$=new o.a,this.isLoadingComments=!0,this.isLoadedComments=!1,this.isError=!1}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}ngOnChanges(){this.isError=!1,this.isLoadingComments=!0,this.isLoadedComments=!1,this.httpService.getCommentService(this.postId).pipe(Object(r.a)(500)).pipe(Object(c.a)(this.ngUnsubscribe$)).subscribe(t=>{this.allComments=t},t=>{this.isError=!0,this.isLoadingComments=!1},()=>{this.isLoadedComments=!0,this.isLoadingComments=!1})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(g))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-comment"]],inputs:{postId:"postId"},features:[a.Ab],decls:3,vars:3,consts:[[4,"ngIf"],["class","post-card",4,"ngIf"],[1,"error"],[1,"post-card"],[4,"ngFor","ngForOf"],[1,"comment-header"],[1,"comment-body"]],template:function(t,e){1&t&&(a.xc(0,I,3,0,"ng-container",0),a.xc(1,v,2,0,"ng-container",0),a.xc(2,S,2,1,"mat-card",1)),2&t&&(a.lc("ngIf",e.isError),a.Cb(1),a.lc("ngIf",e.isLoadingComments),a.Cb(1),a.lc("ngIf",e.isLoadedComments))},directives:[n.k,m.b,f.a,n.j,u.a],styles:[".comment-header[_ngcontent-%COMP%]{padding-top:1rem;color:#006f97}.comment-body[_ngcontent-%COMP%]{font-style:italic}"]}),t})();function O(t,e){1&t&&(a.Rb(0),a.Tb(1,"p",2),a.zc(2,"Sorry, the service is not available right now"),a.Sb(),a.Qb())}function U(t,e){1&t&&(a.Rb(0),a.Pb(1,"mat-spinner"),a.Qb())}function w(t,e){if(1&t&&a.Pb(0,"app-comment",12),2&t){const t=a.gc(3);a.lc("postId",t.selectedPostId)}}function y(t,e){if(1&t){const t=a.Ub();a.Rb(0),a.Tb(1,"div",6),a.Tb(2,"div",7),a.Tb(3,"mat-card",8),a.Tb(4,"mat-card-title"),a.zc(5),a.Sb(),a.Tb(6,"p"),a.zc(7),a.Sb(),a.xc(8,w,1,1,"app-comment",9),a.Sb(),a.Sb(),a.Tb(9,"div",10),a.Tb(10,"button",11),a.dc("click",function(){a.tc(t);const s=e.$implicit;return a.gc(2).bindSelectedPostId(s.id)}),a.zc(11," + "),a.Sb(),a.Sb(),a.Sb(),a.Qb()}if(2&t){const t=e.$implicit,s=a.gc(2);a.Cb(5),a.Ac(t.title),a.Cb(2),a.Ac(t.body),a.Cb(1),a.lc("ngIf",s.selectedPostId===t.id)}}function L(t,e){if(1&t){const t=a.Ub();a.Tb(0,"div",6),a.Tb(1,"div",7),a.Tb(2,"button",13),a.dc("click",function(){return a.tc(t),a.gc(2).loadAllPosts()}),a.zc(3,"...Load all"),a.Sb(),a.Sb(),a.Sb()}}function T(t,e){if(1&t&&(a.Tb(0,"div",3),a.xc(1,y,12,3,"ng-container",4),a.xc(2,L,4,0,"div",5),a.Sb()),2&t){const t=a.gc();a.Cb(1),a.lc("ngForOf",t.displayedPosts),a.Cb(1),a.lc("ngIf",t.displayedPosts.length<=3)}}let x=(()=>{class t{constructor(t){this.httpService=t,this.ngUnsubscribe$=new o.a,this.posts=[],this.displayedPosts=[],this.isLoadingPosts=!0,this.isLoadedPosts=!1,this.isError=!1}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}ngOnChanges(){this.isLoadingPosts=!0,this.isError=!1,this.isLoadedPosts=!1,this.httpService.getUserPostService(this.userId).pipe(Object(r.a)(500)).pipe(Object(c.a)(this.ngUnsubscribe$)).subscribe(t=>{this.posts=t,this.displayedPosts=this.posts.filter((t,e)=>e<=2)},t=>{console.error(t),this.isError=!0,this.isLoadingPosts=!1},()=>{this.isLoadedPosts=!0,this.isLoadingPosts=!1})}loadAllPosts(){this.displayedPosts=this.posts}bindSelectedPostId(t){this.selectedPostId=t}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(g))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-post"]],inputs:{userId:"userId"},features:[a.Ab],decls:3,vars:3,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"error"],[1,"container"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-12","col-md-10","col-lg-10"],[1,"post-card"],[3,"postId",4,"ngIf"],[1,"col-sm-12","col-md-2","col-lg-2","button-wrapper"],["mat-raised-button","","color","basic","aria-label","Please click this button to read comments from this post",1,"add",3,"click"],[3,"postId"],["aria-label","Please click this button to read all posts","mat-raised-button","","color","basic",1,"right-aligned",3,"click"]],template:function(t,e){1&t&&(a.xc(0,O,3,0,"ng-container",0),a.xc(1,U,2,0,"ng-container",0),a.xc(2,T,3,2,"div",1)),2&t&&(a.lc("ngIf",e.isError),a.Cb(1),a.lc("ngIf",e.isLoadingPosts),a.Cb(1),a.lc("ngIf",e.isLoadedPosts))},directives:[n.k,m.b,n.j,f.a,f.c,h.a,P],styles:[".post-card[_ngcontent-%COMP%]{margin-top:1rem;background-color:#f1f1f1;color:#000}.button-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}button.add[_ngcontent-%COMP%]{font-size:2rem}.right-aligned[_ngcontent-%COMP%]{float:right;margin-top:1rem;background:#e3e8ed}@media (max-width:767.98px){button.add[_ngcontent-%COMP%]{margin-top:1rem}}  mat-icon.bigger-icon{line-height:48px!important;font-size:48px}"]}),t})(),$=(()=>{class t{transform(t){return t.includes(".")&&(t=t.split(".")[1].trim()),t.split(" ").slice(0,1).join(" ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Nb({name:"firstName",type:t,pure:!0}),t})();function k(t,e){1&t&&(a.Rb(0),a.Tb(1,"p",4),a.zc(2,"Sorry, the service is not available right now"),a.Sb(),a.Qb())}function j(t,e){1&t&&(a.Rb(0),a.Tb(1,"div",2),a.Pb(2,"mat-spinner"),a.Sb(),a.Qb())}const E=function(t){return{active:t}};function z(t,e){if(1&t){const t=a.Ub();a.Rb(0),a.Tb(1,"div",7),a.Tb(2,"button",8),a.dc("click",function(){a.tc(t);const s=e.index;return a.gc(2).bindSelectedUserId(s+1)}),a.hc(3,"firstName"),a.zc(4),a.hc(5,"firstName"),a.Sb(),a.Sb(),a.Qb()}if(2&t){const t=e.$implicit,s=e.index,n=a.gc(2);a.Cb(2),a.lc("ngClass",a.oc(7,E,n.selectedUserId===s+1)),a.Db("aria-label","Please click this button to read all posts from "+a.ic(3,3,t.name)),a.Cb(2),a.Bc(" ",a.ic(5,5,t.name)," ")}}function M(t,e){if(1&t&&(a.Tb(0,"div",2),a.Tb(1,"h2"),a.zc(2,"Please select a user to find their comments"),a.Sb(),a.Tb(3,"div",5),a.xc(4,z,6,9,"ng-container",6),a.Sb(),a.Pb(5,"mat-divider"),a.Sb()),2&t){const t=a.gc();a.Cb(4),a.lc("ngForOf",t.allUsers)}}function A(t,e){if(1&t&&(a.Tb(0,"h2"),a.zc(1),a.hc(2,"firstName"),a.Sb()),2&t){const t=a.gc();a.Cb(1),a.Bc("Posts from ",a.ic(2,1,t.selectedusername),"")}}function F(t,e){if(1&t&&a.Pb(0,"app-post",9),2&t){const t=a.gc();a.lc("userId",t.selectedUserId)}}const R=[{path:"",component:(()=>{class t{constructor(t){this.httpService=t,this.ngUnsubscribe$=new o.a,this.allUsers=[],this.isLoadingUsers=!0,this.isLoadedUsers=!1,this.isError=!1}ngOnInit(){this.httpService.getAllUsersService().pipe(Object(r.a)(500)).pipe(Object(c.a)(this.ngUnsubscribe$)).subscribe(t=>{this.allUsers=t},t=>{this.isError=!0,this.isLoadingUsers=!1},()=>{this.isLoadedUsers=!0,this.isLoadingUsers=!1})}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}bindSelectedUserId(t){this.selectedUserId=t,this.selectedusername=this.allUsers[t-1].name}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(g))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-portal"]],decls:6,vars:5,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[3,"userId",4,"ngIf"],[1,"error"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-3","col-lg-2"],["mat-raised-button","","color","basic",3,"ngClass","click"],[3,"userId"]],template:function(t,e){1&t&&(a.xc(0,k,3,0,"ng-container",0),a.xc(1,j,3,0,"ng-container",0),a.xc(2,M,6,1,"div",1),a.Tb(3,"div",2),a.xc(4,A,3,3,"h2",0),a.Sb(),a.xc(5,F,1,1,"app-post",3)),2&t&&(a.lc("ngIf",e.isError),a.Cb(1),a.lc("ngIf",e.isLoadingUsers),a.Cb(1),a.lc("ngIf",e.isLoadedUsers),a.Cb(2),a.lc("ngIf",e.selectedusername),a.Cb(1),a.lc("ngIf",e.selectedUserId))},directives:[n.k,m.b,n.j,u.a,h.a,n.i,x],pipes:[$],styles:[".container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}button[_ngcontent-%COMP%]{width:100%;margin-top:1rem;margin-bottom:1rem}button.active[_ngcontent-%COMP%]{background-color:#006f97;color:#fff}  mat-spinner{margin:0 auto}"]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({imports:[[i.a.forChild(R)],i.a]}),t})();var Q=s("FpXt");let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({imports:[[n.b,_,Q.a]]}),t})()}}]);